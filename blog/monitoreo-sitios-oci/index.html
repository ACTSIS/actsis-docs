<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Monitoreo sitios OCI | Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://actsis.com/blog/monitoreo-sitios-oci"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Monitoreo sitios OCI | Docs"><meta data-rh="true" name="description" content="Monitoreo sitios OCI y pruebas de rendimiento con Grafana y JMeter"><meta data-rh="true" property="og:description" content="Monitoreo sitios OCI y pruebas de rendimiento con Grafana y JMeter"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-08-01T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/DanielRondonGarcia"><meta data-rh="true" property="article:tag" content="actsis,grafana,service,jmeter"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://actsis.com/blog/monitoreo-sitios-oci"><link data-rh="true" rel="alternate" href="https://actsis.com/blog/monitoreo-sitios-oci" hreflang="en"><link data-rh="true" rel="alternate" href="https://actsis.com/blog/monitoreo-sitios-oci" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://Q6UCWVTIW4-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Docs Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-P5GG5DH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-P5GG5DH",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Docs" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js" async defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.6b42bbfb.css">
<link rel="preload" href="/assets/js/runtime~main.0301d92d.js" as="script">
<link rel="preload" href="/assets/js/main.83aa4bfb.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Actsis Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Actsis Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/welcome">Artemis</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/links">Links</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Últimos posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/monitoreo-sitios-oci">Monitoreo sitios OCI</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Monitoreo sitios OCI</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-08-01T00:00:00.000Z" itemprop="datePublished">August 1, 2023</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/DanielRondonGarcia" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/61068392?v=4" alt="Daniel Rondón"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/DanielRondonGarcia" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Daniel Rondón</span></a></div><small class="avatar__subtitle" itemprop="description">DevOps Engineer</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><p>Eightshift DevKit offers some blocks with query logic out of the box, but what is the best approach when you need to add a custom query to a block you’ve been working on?</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-in-built-in-blocks">Usage in built-in blocks<a href="#usage-in-built-in-blocks" class="hash-link" aria-label="Direct link to Usage in built-in blocks" title="Direct link to Usage in built-in blocks">​</a></h2><p>One of the Eightshift blocks that already uses <code>WP_Query</code> is the <strong><em>Featured Content</em></strong> block. In that block, you can see the query logic is inside the block. However, there is a much better way to do it. The reason it was done like this was to simplify this block and to have an already functioning block available with one WP-CLI command.</p><p>A much better approach would be to separate the query logic from the block. Other than following the MVC architecture more closely, this will also make the query logic more reusable. To do this, we’re gonna create a service class.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-service-classes">What are Service classes?<a href="#what-are-service-classes" class="hash-link" aria-label="Direct link to What are Service classes?" title="Direct link to What are Service classes?">​</a></h2><p><em>Put simply, a Service is any PHP object that performs some sort of &quot;global&quot; task. - Symfony docs</em></p><p>If you take a look at the <code>ServiceInterface</code> interface, you’ll notice it only contains the <code>register()</code> method. This method holds action and filter hooks for that class. Other than hooking into existing actions and filters, this method can be used to register our own filters which can be used in blocks or other classes.</p><p>Basically, whenever you need to hook into actions or filters, you should use a Service class for that.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-service-class">Creating a new service class<a href="#creating-a-new-service-class" class="hash-link" aria-label="Direct link to Creating a new service class" title="Direct link to Creating a new service class">​</a></h2><p>Creating a new service class in your project is as simple as using the following WP-CLI command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">wp boilerplate create service-example --folder</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">CustomQuery --file_name</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">CustomQuery</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once this new class is generated, you can add a new public method that will contain the query logic. We want our method to accept three optional arguments:</p><ul><li>ID of the category</li><li>number of posts per page</li><li>number of the current page</li></ul><p>Having the category ID optional will allow for one more use case, and that is fetching the latest posts regardless of category. By default, WordPress sorts the posts by publish date, from newest to oldest.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * Get posts by category ID.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * @param int $categoryId Category ID.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * @param int $postsPerPage Number of posts per page.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * @param int $currentPage Current page number.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> *</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> * @return WP_Query Query object.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">public function getPostsByCategory($categoryId = null, $postsPerPage = 3, $currentPage = 1): WP_Query</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $postArgs = [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;post_type&#x27; =&gt; &#x27;post&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;cat&#x27; =&gt; $categoryId,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;posts_per_page&#x27; =&gt; $postsPerPage,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;paged&#x27; =&gt; $currentPage,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    return new WP_Query($postArgs);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To use this method, we can add it as a filter. The filter name should be added as a constant for easier maintenance. Inside the <code>register()</code> method, add the following:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">\add_filter(self::GET_POSTS_BY_CATEGORY, [$this, &#x27;getPostsByCategory&#x27;], 10, 3);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-new-filter">Using the new filter<a href="#using-the-new-filter" class="hash-link" aria-label="Direct link to Using the new filter" title="Direct link to Using the new filter">​</a></h2><div class="es-alert es-alert--note m-0 my-10 pl-10 pr-0 py-4 border-l-4 border-l-infinum border-l-violet-30"><i class="flex gap-1.5 items-center font-sans text-12 uppercase not-italic leading-none font-medium mb-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" class="w-6 h-6 text-violet-30"><path d="M3.852 20.148h10.74v-5.555h5.556V3.852H3.852v16.296Zm0 1.852c-.51 0-.945-.181-1.308-.544A1.783 1.783 0 0 1 2 20.148V3.852c0-.51.181-.945.544-1.308A1.783 1.783 0 0 1 3.852 2h16.296c.51 0 .945.181 1.308.544.363.363.544.799.544 1.308v11.481L15.333 22H3.852Zm2.963-8.148V12h5v1.852h-5Zm0-4.445V7.556h10.37v1.851H6.815Z" fill="currentColor"></path></svg><span class="text-grey-500">Note</span></i><div class="font-sans text-16 text-black"><p>Even if you register a filter for a method that doesn’t accept any arguments, when calling <code>apply_filters</code>, you must pass at least 1 parameter. In those cases, simply add <code>null</code> as a parameter.</p></div></div><p>Here are some examples how you can use the filter:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Get 3 latest posts, regardless of category.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$allLatestPosts = apply_filters(CustomQuery::GET_POSTS_BY_CATEGORY, null);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Get 10 latest posts from the News category. News category ID is 2.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$latestNews = apply_filters(CustomQuery::GET_POSTS_BY_CATEGORY, 2, 10);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Get another page of News category.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$pagedNews = apply_filters(CustomQuery::GET_POSTS_BY_CATEGORY, 2, 10, $currentPage);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above example shows multiple use cases. The first two examples could be used in a simple block that displays only the selected number of the latest posts. The last example may be used in a REST route for a load more functionality or in a block with classic pagination.</p><p>Now you can do a regular query loop in your block to display the posts:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">if ($latestNews-&gt;have_posts()) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    while ($latestNews-&gt;have_posts()) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        $latestNews-&gt;the_post();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        // render the card here with the Components::render helper.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wp_reset_postdata();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="es-alert es-alert--caution m-0 my-10 pl-10 pr-0 py-4 border-l-4 border-l-infinum border-l-candy-30"><i class="flex gap-1.5 items-center font-sans text-12 uppercase not-italic leading-none font-medium mb-2"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" class="w-6 h-6 text-candy-30"><path d="M1 21 12 2l11 19H1Zm2.883-1.667h16.234L12 5.333l-8.117 14Zm8.187-1.283a.815.815 0 0 0 .83-.836.815.815 0 0 0-.836-.83.814.814 0 0 0-.83.836.814.814 0 0 0 .836.83Zm-.837-2.85H12.9V9.8h-1.667v5.4Z" fill="currentColor"></path></svg><span class="text-grey-500">Important</span></i><div class="font-sans text-16 text-black"><p>Don&#x27;t forget to add <code>wp_reset_postdata()</code> after looping through the custom query!</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-only-the-data-you-need">Prepare only the data you need<a href="#prepare-only-the-data-you-need" class="hash-link" aria-label="Direct link to Prepare only the data you need" title="Direct link to Prepare only the data you need">​</a></h2><p>If you would like to improve this even further, you can run the <code>have_posts()</code> loop inside the class and save only the data you need to render to an array. This makes the logic even more separated from the view and all you have to do in a block is loop through the array and populate the component attributes with the values from the array.</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$postData = [];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">if ($queryData-&gt;have_posts()) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    while($queryData-&gt;have_posts()) {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        $queryData-&gt;the_post();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        $postData[] = [</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &#x27;id&#x27; =&gt; get_the_ID(),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &#x27;title&#x27; =&gt; get_the_title(),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &#x27;url&#x27; =&gt; get_permalink(),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &#x27;image&#x27; =&gt; get_the_post_thumbnail_url(),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &#x27;date&#x27; =&gt; get_the_time(&#x27;d.m.Y.&#x27;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            &#x27;excerpt&#x27; =&gt; get_the_excerpt(),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        ];</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">wp_reset_postdata();</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">return $postData;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-for-queries">Best practices for queries<a href="#best-practices-for-queries" class="hash-link" aria-label="Direct link to Best practices for queries" title="Direct link to Best practices for queries">​</a></h2><p>It’s important to have query optimisation in mind. Some queries may be a lot slower and you have to see if there is any way to follow the <a href="https://infinum.com/handbook/wordpress/coding-standards/php-coding-standards/database-queries" target="_blank" rel="noopener noreferrer">best practices for database queries</a>.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/actsis">actsis</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/grafana">grafana</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/service">service</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/jmeter">jmeter</a></li></ul></div></footer></article></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usage-in-built-in-blocks" class="table-of-contents__link toc-highlight">Usage in built-in blocks</a></li><li><a href="#what-are-service-classes" class="table-of-contents__link toc-highlight">What are Service classes?</a></li><li><a href="#creating-a-new-service-class" class="table-of-contents__link toc-highlight">Creating a new service class</a></li><li><a href="#using-the-new-filter" class="table-of-contents__link toc-highlight">Using the new filter</a></li><li><a href="#prepare-only-the-data-you-need" class="table-of-contents__link toc-highlight">Prepare only the data you need</a></li><li><a href="#best-practices-for-queries" class="table-of-contents__link toc-highlight">Best practices for queries</a></li></ul></div></div></div></div></div><div class="es-footer flex flex-col desktop:flex-row items-center gap-8 desktop:justify-between px-side-padding py-8 border-t border-t-grey-200 bg-grey-100"><a href="https://actsis.com"><svg viewBox="0 0 200 18" width="200" height="18" xmlns="http://www.w3.org/2000/svg"><path d="m31.6 14.5-3.5-5c-0.1-0.2-0.1-0.4 0-0.5l1.4-2c0.1-0.2 0.1-0.4 0-0.5l-0.9-1.3-1.1-1.5-0.4-0.6-0.7-1-0.5-0.7-0.6-0.9c-0.2-0.3-0.6-0.3-0.8 0l-1.4 2-1.1 1.4-1 1.5-6.4 9-2 2.8c-0.2 0.3 0 0.7 0.4 0.7h20.2c0.4 0 0.6-0.4 0.4-0.7l-2-2.7zm-11.3-0.8 2.9-4.1c0.2-0.3 0.6-0.3 0.8 0l0.7 1 1.1 1.6 1 1.5c0.2 0.3 0 0.7-0.4 0.7h-5.7c-0.4 0.1-0.6-0.4-0.4-0.7z" fill="#006181"></path><path d="m49.8 16.6 8.4-13.3c0.8-1.3 2.5-2 5.1-2 2.5 0 4.2 0.7 5.1 2l8.4 13.3h-6.8l-2.1-3.3h-9.2l-2.1 3.3h-6.8zm10.7-6.4h5.3l-3.1-4.9-2.2 4.9z"></path><path d="m78.5 13.2v-8.3c0-1.3 0.5-2.2 1.5-2.7s2.9-0.7 5.6-0.7h12.7v3.2h-11.8c-0.8 0-1.3 0.3-1.5 0.6v6.7c0 0.6 0.2 0.9 0.6 1.1 0.2 0.1 0.7 0.2 1.3 0.2h11.3v3.3h-13.6c-0.7 0-1.5-0.1-2.3-0.3-2.5-0.5-3.8-1.5-3.8-3.1z"></path><path d="M100.1,4.7V1.4h19.5v3.2H113v11.9h-6.5V4.7H100.1z"></path><path d="m121.7 4.4c0-0.3 0.1-0.5 0.2-0.8 0.8-1.5 2.8-2.2 6-2.2h13.2v3.2h-11.5c-1 0-1.4 0.3-1.4 0.7v1 0.2c0.1 0.4 0.7 0.6 1.6 0.7h0.4 4.7c1.4 0 2.6 0.2 3.7 0.5 1.6 0.5 2.4 1.3 2.4 2.4v3.1c0 1.2-0.8 2.1-2.5 2.6-1.1 0.4-2.5 0.5-4 0.5h-12.9v-3.3h11.3c1-0.2 1.5-0.5 1.5-0.9v-1.1c0-0.4-0.5-0.7-1.4-0.7h-5.4c-2.2 0-3.9-0.4-5.1-1.3-0.7-0.5-1-1-1-1.6v-3z"></path><path d="M144.8,16.6V1.4h6.5v15.1H144.8z"></path><path d="m154.9 4.4c0-0.3 0.1-0.5 0.2-0.8 0.8-1.5 2.8-2.2 6-2.2h13.2v3.2h-11.5c-1 0-1.4 0.3-1.4 0.7v1 0.2c0.1 0.4 0.7 0.6 1.6 0.7h0.4 4.7c1.4 0 2.6 0.2 3.7 0.5 1.6 0.5 2.4 1.3 2.4 2.4v3.1c0 1.2-0.8 2.1-2.5 2.6-1.1 0.4-2.5 0.5-4 0.5h-12.7v-3.3h11.3c1-0.2 1.5-0.5 1.5-0.9v-1.1c0-0.4-0.5-0.7-1.4-0.7h-5.4c-2.2 0-3.9-0.4-5.1-1.3-0.7-0.5-1-1-1-1.6v-3z"></path></svg></a><span class="text-14">Inspirado de Infinum con ❤️ por el equipo Actsis</span><div class="flex gap-2"><a href="https://linkedin.com/company/actsis-ltda/"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none"><path clip-rule="evenodd" fill-rule="evenodd" d="M21 5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5Zm-2.5 8.2v5.3h-2.79v-4.93a1.4 1.4 0 0 0-1.4-1.4c-.77 0-1.39.63-1.39 1.4v4.93h-2.79v-8.37h2.79v1.11c.48-.78 1.47-1.3 2.32-1.3 1.8 0 3.26 1.46 3.26 3.26ZM6.88 8.56a1.686 1.686 0 0 0 0-3.37 1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68Zm1.39 1.57v8.37H5.5v-8.37h2.77Z" fill="currentColor"></path></svg></a></div></div></div>
<script src="/assets/js/runtime~main.0301d92d.js"></script>
<script src="/assets/js/main.83aa4bfb.js"></script>
</body>
</html>