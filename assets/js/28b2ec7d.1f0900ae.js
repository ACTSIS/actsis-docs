"use strict";(self.webpackChunk_actsis_docs=self.webpackChunk_actsis_docs||[]).push([[6652],{54028:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"dotnet-8/default/despliegue/it_net8_deploy_variables","title":"Variables de Entorno","description":"Paso 1: Actualizaci\xf3n de valores en archivo de configuraci\xf3n","source":"@site/installs/dotnet-8/default/despliegue/it_net8_deploy_variables.mdx","sourceDirName":"dotnet-8/default/despliegue","slug":"/dotnet-8/default/despliegue/it_net8_deploy_variables","permalink":"/installs/dotnet-8/default/despliegue/it_net8_deploy_variables","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"it_net8_deploy_variables","title":"Variables de Entorno"},"sidebar":"installs","previous":{"title":"Pasos de despliegue","permalink":"/installs/dotnet-8/default/despliegue/it_net8_desploy_step1"},"next":{"title":"Pruebas","permalink":"/installs/dotnet-8/default/pruebas/it_net8_pruebas"}}');var o=s(74848),t=s(28453);const a={id:"it_net8_deploy_variables",title:"Variables de Entorno"},r=void 0,c={},l=[{value:"Paso 1: Actualizaci\xf3n de valores en archivo de configuraci\xf3n",id:"paso-1-actualizaci\xf3n-de-valores-en-archivo-de-configuraci\xf3n",level:3},{value:"<code>appsettings.json</code> de cada sub-sitio web (<strong>GenWeb</strong>, <strong>SacWeb</strong>, <strong>RedesWeb</strong>, <strong>RevisionesWeb</strong>, <strong>ProcesosWeb</strong>)",id:"appsettingsjson-de-cada-sub-sitio-web-genweb-sacweb-redesweb-revisionesweb-procesosweb",level:4},{value:"<code>web.config</code> del sitio principal/ra\xedz",id:"webconfig-del-sitio-principalra\xedz",level:4},{value:"<strong>Actualizar archivo</strong> <strong>Web.config</strong> <strong>en sub-sitios SAC (Apis):</strong>",id:"actualizar-archivo-webconfig-en-sub-sitios-sac-apis",level:4}];function d(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h3,{id:"paso-1-actualizaci\xf3n-de-valores-en-archivo-de-configuraci\xf3n",children:"Paso 1: Actualizaci\xf3n de valores en archivo de configuraci\xf3n"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Actualizar archivos sitio SAC:"}),"\n"]}),"\n",(0,o.jsxs)(n.h4,{id:"appsettingsjson-de-cada-sub-sitio-web-genweb-sacweb-redesweb-revisionesweb-procesosweb",children:[(0,o.jsx)(n.code,{children:"appsettings.json"})," de cada sub-sitio web (",(0,o.jsx)(n.strong,{children:"GenWeb"}),", ",(0,o.jsx)(n.strong,{children:"SacWeb"}),", ",(0,o.jsx)(n.strong,{children:"RedesWeb"}),", ",(0,o.jsx)(n.strong,{children:"RevisionesWeb"}),", ",(0,o.jsx)(n.strong,{children:"ProcesosWeb"}),")"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Eliminar Servicios y configuraci\xf3n de conexiones"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"appsettings.json",src:s(28893).A+"",width:"830",height:"908"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Actualizar ",(0,o.jsx)(n.code,{children:"ApiGatewayUrl"})," con la url del gateway"]}),"\n",(0,o.jsxs)(n.li,{children:["Actualizar ",(0,o.jsx)(n.code,{children:"ConfigToken"})]}),"\n",(0,o.jsxs)(n.li,{children:["Actualizar el ",(0,o.jsx)(n.code,{children:"LogoutUrl"}),' con la url de la aplicaci\xf3n principal, por ejemplo: "',(0,o.jsx)(n.a,{href:"https://sacnet-rc.actsis.com/GEN/Vistas/Login/LOGOUT_GEN.aspx",children:"https://sacnet-rc.actsis.com/GEN/Vistas/Login/LOGOUT_GEN.aspx"}),'"']}),"\n",(0,o.jsxs)(n.li,{children:["Actualizar archivo ",(0,o.jsx)(n.strong,{children:"log4net.config"})," de cada sub-sitio del directorio de los logs."]}),"\n"]}),"\n",(0,o.jsxs)(n.h4,{id:"webconfig-del-sitio-principalra\xedz",children:[(0,o.jsx)(n.code,{children:"web.config"})," del sitio principal/ra\xedz"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Actualizar las URL del  Gateway en ",(0,o.jsx)(n.code,{children:"ApiGatewayUrl"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Actualizar variable ",(0,o.jsx)(n.code,{children:"va_directorio_logs"})," del directorio de los logs."]}),"\n"]}),"\n",(0,o.jsxs)(n.h4,{id:"actualizar-archivo-webconfig-en-sub-sitios-sac-apis",children:[(0,o.jsx)(n.strong,{children:"Actualizar archivo"})," ",(0,o.jsx)(n.strong,{children:"Web.config"})," ",(0,o.jsx)(n.strong,{children:"en sub-sitios SAC (Apis):"})]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Ingresar valor para ",(0,o.jsx)(n.code,{children:"JWT_SECRET_KEY"}),", ",(0,o.jsx)(n.code,{children:"JWT_AUDIENCE_TOKEN"}),", ",(0,o.jsx)(n.code,{children:"JWT_ISSUER_TOKEN"}),", ",(0,o.jsx)(n.code,{children:"JWT_EXPIRE_MINUTES"}),"(recomendado 3440)"]}),"\n",(0,o.jsx)(n.li,{children:"Actualizar cadenas de conexiones"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "Logging": {\n    "LogLevel": {\n      "Default": "Information",\n      "Microsoft.AspNetCore": "Warning"\n    }\n  },\n  "AllowedHosts": "*",\n  "Connections": [\n    {\n      "Name": "CENS DES",\n      "Description": "PRUEBAS-CENS",\n      "Host": "###.###.###.###",\n      "Port": "####",\n      "ServiceName": "#####",\n      "UserId": "SAC_CNX",\n      "Password": "******",\n      "Domain": "D_CENS_DES"\n    },\n    {\n      "Name": "EDEQ DES",\n      "Description": "PRUEBAS-EDEQ",\n      "Host": "###.###.###.###",\n      "Port": "####",\n      "ServiceName": "#####",\n      "UserId": "SAC_CNX",\n      "Password": "******",\n      "Domain": "D_EDEQ_DES"\n    },\n    {\n      "Name": "CHEC DES",\n      "Description": "PRUEBAS-CHEC",\n      "Host": "###.###.###.###",\n      "Port": "####",\n      "ServiceName": "#####",\n      "UserId": "SAC_CNX",\n      "Password": "******",\n      "Domain": "D_CHEC_DES"\n    }\n  ],\n  "Services": [\n    {\n      "App": "SAC",\n      "Module": "REVISIONES",\n      "Host": "https://sac-drondon.actsis.com/RevisionesWeb",\n      "ApiPath": "/sac/revisiones"\n    },\n    {\n      "App": "SAC",\n      "Module": "ADMINISTRACION",\n      "Host": "https://sac-drondon.actsis.com/GenWeb",\n      "ApiPath": "/sac/gen"\n    },\n    {\n      "App": "SAC",\n      "Module": "PROCESOS",\n      "Host": "https://sac-drondon.actsis.com/ProcesosWeb",\n      "ApiPath": "/sac/procesos"\n    },\n    {\n      "App": "SAC",\n      "Module": "REDES",\n      "Host": "https://sac-drondon.actsis.com/RedesWeb",\n      "ApiPath": "/sac/redes"\n    },\n    {\n      "App": "SAC",\n      "Module": "",\n      "Host": "",\n      "ApiPath": "/sac"\n    },\n    {\n      "App": "GEN",\n      "Module": "REPORT",\n      "Host": "",\n      "ApiPath": "https://genreportesrest-drondon.actsis.com/api"\n    },\n    {\n      "App": "SAC",\n      "Module": "REPORT",\n      "Host": "",\n      "ApiPath": "https://genreportesrest-drondon.actsis.com/api"\n    }\n  ],\n  "SeedToken": "F34FGXDWBOcYXpvQIkd4dHa0b1ckaZ15aNXzFDWVism968FV7Z58G4yMvAjMazUwRWpudC3EoDKQ"\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28893:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/20241211095743-24d34875ef0bf40fc7395dbfc274c7a9.webp"},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>r});var i=s(96540);const o={},t=i.createContext(o);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);